{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">

        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <form method="POST" class="d-flex gap-2">
                    <input type="text" name="content" class="form-control form-control-lg" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è?" required>
                    <button type="submit" class="btn btn-primary btn-lg">–î–æ–±–∞–≤–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <div class="list-group shadow-sm">
            {% if not tasks %}
                <div class="list-group-item text-center text-muted py-5">
                    <h4>üì≠ –ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</h4>
                    <p>–°–∞–º–æ–µ –≤—Ä–µ–º—è —á—Ç–æ-—Ç–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å!</p>
                </div>
            {% endif %}

            {% for task in tasks %}
            <div class="list-group-item d-flex justify-content-between align-items-center task-item {% if task.completed %}bg-light text-decoration-line-through text-muted{% endif %}" id="task-{{ task.id }}">
                <div class="d-flex align-items-center gap-3 w-100" style="cursor: pointer;" onclick="toggleTask({{ task.id }})">
                    <input type="checkbox" class="form-check-input mt-0" {% if task.completed %}checked{% endif %} disabled>
                    <span class="fs-5">{{ task.content }}</span>
                </div>

                <div class="d-flex gap-2">
                    <small class="text-secondary text-nowrap align-self-center">{{ task.date_created.strftime('%H:%M') }}</small>
                    <a href="/delete/{{ task.id }}" class="btn btn-outline-danger btn-sm border-0">‚úï</a>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
</div>
{% endblock %}